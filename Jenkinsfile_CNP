#!groovy
//noinspection GroovyUnusedAssignment
@Library("Infrastructure") _

def product = "darts"
def branchesToSync = ['demo']
def secrets = [
  'darts-${env}': [
    secret('GovukNotifyTestApiKey', 'GOVUK_NOTIFY_API_KEY'),
    secret('app-insights-connection-string', 'app-insights-connection-string'),
    secret('AzureAdB2CTenantIdKey', 'AAD-B2C-TENANT_ID_KEY'),
    secret('AzureAdB2CClientIdKey', 'AAD-B2C-CLIENT_ID_KEY'),
    secret('AzureAdB2CClientSecretKey', 'AAD-B2C-CLIENT_SECRET_KEY'),
    secret('api-FUNC-TEST-ROPC-USERNAME', 'FUNC_TEST_ROPC_USERNAME'),
    secret('api-FUNC-TEST-ROPC-PASSWORD', 'FUNC_TEST_ROPC_PASSWORD')
  ],
]


withInfraPipeline(product) {
      enableSlackNotifications('#darts-builds')
      syncBranchesWithMaster(branchesToSync)
}